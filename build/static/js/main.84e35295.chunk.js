(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),l=n.n(r),s=(n(76),n(25)),i=n(6),o=(n(77),n(32)),j=n.n(o),u=n(45),d=n(4),b=n(46),h=n.n(b),O=(n(97),n(1));function m(e){var t=e.handleAuth,n=Object(c.useState)(""),a=Object(d.a)(n,2),r=a[0],l=a[1],o=Object(c.useState)(""),b=Object(d.a)(o,2),m=b[0],x=b[1],p=Object(i.g)(),f=function(){var e=Object(u.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==r){e.next=6;break}return alert("please enter your email id"),e.abrupt("return");case 6:console.log(r);case 7:if(""!==m){e.next=12;break}return alert("please enter your password"),e.abrupt("return");case 12:return e.prev=12,e.next=15,h.a.post("http://pettycash-management.herokuapp.com/login",{email:r,password:m});case 15:alert(" successfully login"),t(r),p("/"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(12),alert(e.t0),p("/register");case 24:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}();return Boolean(window.localStorage.getItem("auth"))&&i.a,Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{className:"box",children:Object(O.jsxs)("form",{onSubmit:f,children:[Object(O.jsx)("span",{className:"text-center",children:"Login"}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"email",name:"email",autoComplete:"on",onChange:function(e){l(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"Email"})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"password",name:"password",autoComplete:"on",onChange:function(e){x(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"password"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Login"}),Object(O.jsx)(s.c,{to:"/register\r ",children:Object(O.jsx)("button",{className:"btn btn-1 btn-danger",children:"Register"})})]})})})})}n(99);var x=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),l=Object(d.a)(r,2),s=l[0],o=l[1],b=Object(c.useState)(""),m=Object(d.a)(b,2),x=m[0],p=m[1],f=Object(c.useState)(""),v=Object(d.a)(f,2),g=v[0],y=v[1],N=Object(i.g)(),C=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=6;break}return alert("please enter your name"),e.abrupt("return");case 6:console.log(n);case 7:if(""!==s){e.next=12;break}return alert("please enter your email id"),e.abrupt("return");case 12:console.log(s);case 13:if(""!==x){e.next=18;break}return alert("please enter your password"),e.abrupt("return");case 18:if(g!==x){e.next=22;break}return e.abrupt("return");case 22:alert("confirm password doesn't match");case 23:return e.prev=23,e.next=26,h.a.post("http://pettycash-management.herokuapp.com/registration",{name:n,email:s,password:x});case 26:alert("successfully registered"),N("/login"),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),alert(e.t0);case 33:case"end":return e.stop()}}),e,null,[[23,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{className:"box",children:Object(O.jsxs)("form",{onSubmit:C,children:[Object(O.jsx)("span",{className:"text-center",children:"Register"}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"text",name:"username",autoComplete:"on",onChange:function(e){a(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"Username"})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"email",name:"email",autoComplete:"on",onChange:function(e){o(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"Email"})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"password",name:"password",autoComplete:"on",onChange:function(e){p(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"password"})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("input",{type:"password",name:"passwordAgain",autoComplete:"on",onChange:function(e){y(e.target.value)},required:!0}),Object(O.jsx)("label",{children:"password again"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Register"})]})})})},p=n(39),f=Object(c.createContext)(),v=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(d.a)(n,2),r=a[0],l=a[1],s=Object(c.useState)("Monthly"),i=Object(d.a)(s,2),o=i[0],j=i[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1];Object(c.useEffect)((function(){l(JSON.parse(localStorage.getItem("Bills"))||[])}),[l]),Object(c.useEffect)((function(){console.log(r)}),[r]);return Object(O.jsx)("div",{children:Object(O.jsx)(f.Provider,{value:{bills:r,updateBills:function(e){var t=[].concat(Object(p.a)(r),[e]);localStorage.setItem("Bills",JSON.stringify(t)),l(t)},editBill:function(e){var t=r.filter((function(t){return t.title!==e.title})),n=function(e){return e.sort((function(e,t){return e.title.toUpperCase()<t.title.toUpperCase()?-1:0}))}([].concat(Object(p.a)(t),[e]));localStorage.setItem("Bills",JSON.stringify(n)),l(n)},selectedCostInterval:o,setSelectedCostInterval:j,setEditModeEnabled:m,editModeEnabled:h,deleteBill:function(e){var t=r.filter((function(t){return t.title!==e.title}));localStorage.setItem("Bills",JSON.stringify(t)),l(t)}},children:t})})},g=n(118),y=n(115),N=n(117),C=n(116),S=n(119),w=(n(100),n(70)),k=(n(101),function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),l=Object(d.a)(r,2),s=l[0],i=l[1],o=Object(c.useContext)(f).updateBills;return Object(O.jsxs)("div",{className:"add-bill-container",children:[Object(O.jsx)("input",{className:"add-bill-form-control form-control",type:"text",value:n,placeholder:"Enter Your Bill Title",onChange:function(e){a(e.target.value)}}),Object(O.jsx)("input",{className:"add-bill-form-control form-control",type:"number",value:s,placeholder:"Enter Your Bill Cost",onChange:function(e){return i(e.target.value)}}),Object(O.jsx)("button",{className:"add-bill-form-control btn btn-primary",onClick:function(){(function(){var e=s&&Number.parseFloat(s),t=n&&n.split("").find((function(e){return" "!==e}));return e&&t})()&&(o({title:n,monthlyCost:s,enabled:!0}),i(""),a(""))},children:"Add Bill"})]})}),E=(n(102),function(){var e=Object(c.useContext)(f),t=e.bills,n=e.editBill,a=e.setEditModeEnabled;return Object(O.jsxs)("div",{className:"Bill-list-container",children:[Object(O.jsx)("h6",{className:"edit-mode-btn",onClick:function(){return a(!0)},children:"Edit"}),t.map((function(e,t){return Object(O.jsxs)("div",{className:"bill-list-row",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",checked:e.enabled,onChange:function(){return n({title:e.title,monthlyCost:e.monthlyCost,enabled:!e.enabled})}}),Object(O.jsxs)("div",{className:"bill-list-row-content",children:[e.title," - Rs.",e.monthlyCost]})]},t)}))]})}),B=(n(103),function(){var e=Object(c.useContext)(f),t=e.bills,n=e.selectedCostInterval,a=function(e){var t=Number.parseFloat(e);switch(n){case"Monthly":return t;case"Yearly":return 12*t;case"Weekly":return 12*t/52;case"Daily":return 12*t/365;default:return 0}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"bill-total-container",children:[n," bill cost:",Object(O.jsx)("span",{className:"total-cost",children:"$"+t.reduce((function(e,t){return t.enabled?a(t.monthlyCost)+e:e}),0).toFixed(2)})]}),Object(O.jsxs)("div",{className:"total-saved-container",children:[n," saved:",Object(O.jsx)("span",{className:"total-saved",children:"$"+t.reduce((function(e,t){return t.enabled?e:a(t.monthlyCost)+e}),0).toFixed(2)})]})]})}),I=(n(104),function(){var e=Object(c.useContext)(f),t=e.selectedCostInterval,n=e.setSelectedCostInterval;return Object(O.jsxs)("div",{className:"interval-option-container",children:[Object(O.jsx)("div",{className:"Daily"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Daily"}),Object(O.jsx)("div",{className:"Monthly"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Monthly"}),Object(O.jsx)("div",{className:"Yearly"===t?"selected-interval":"interval",onClick:function(e){return n(e.target.innerText)},children:"Yearly"})]})}),M=(n(105),function(){var e=Object(c.useContext)(f),t=e.bills,n=e.setEditModeEnabled,a=e.editBill,r=e.deleteBill;return Object(O.jsxs)("div",{className:"edit-bill-container",children:[Object(O.jsx)("h6",{className:"edit-mode-done-btn",onClick:function(){return n(!1)},children:"Done"}),t.map((function(e,t){return Object(O.jsxs)("div",{className:"edit-bill-row",children:[Object(O.jsxs)("div",{className:"edit-bill-row-content",children:[Object(O.jsx)("div",{className:"edit-bill-title",children:e.title}),Object(O.jsx)("input",{className:"edit-bill-cost-input",type:"number",value:e.monthlyCost,onChange:function(t){return a({title:e.title,enabled:e.enabled,monthlyCost:t.target.value})}}),Object(O.jsx)("h6",{onClick:function(){return r(e)},className:"delete-button",children:"DELETE"})]}),Object(O.jsx)("hr",{})]},t)}))]})});var T=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(f).editModeEnabled,l=localStorage.getItem("auth"),s=JSON.parse(l);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{children:Object(O.jsxs)(y.a,{children:[Object(O.jsx)(g.a.Brand,{href:"#home",children:"PettyCash"}),Object(O.jsx)(g.a.Toggle,{}),Object(O.jsxs)(g.a.Collapse,{className:"justify-content-end",children:[Object(O.jsxs)(g.a.Text,{children:["Signed in as: ",Object(O.jsx)("a",{href:"#login",children:s.email})]}),Object(O.jsxs)(N.a.Link,{href:"login",children:[" ",Object(O.jsxs)("button",{onClick:function(){localStorage.removeItem("auth")},children:[" ",Object(O.jsx)(w.a,{})]})]})]})]})})}),Object(O.jsx)("div",{className:"Home",children:Object(O.jsxs)("div",{className:"pettycash-container",children:[Object(O.jsx)(C.a,{variant:"primary",onClick:function(){return a(!0)},children:"PettyCash"}),Object(O.jsxs)(S.a,{show:n,onHide:function(){return a(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsx)(S.a.Title,{id:"example-custom-modal-styling-title",children:"PETTYCASH MANAGEMENT"})}),Object(O.jsx)(S.a.Body,{children:r?Object(O.jsx)(M,{}):Object(O.jsxs)("span",{children:[Object(O.jsx)(I,{}),Object(O.jsx)(k,{}),Object(O.jsx)(B,{}),Object(O.jsx)(E,{})]})})]})]})})]})},A=n(3),J=["children"];var D=function(e){var t=e.children;return Object(A.a)(e,J),Boolean(window.localStorage.getItem("auth"))?t:Object(O.jsx)(i.a,{to:"/login"})};function q(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Nothing to see here!"}),Object(O.jsx)("p",{children:Object(O.jsx)(s.b,{to:"/",children:"Go to the home page"})})]})}var F=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(s.a,{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/register",element:Object(O.jsx)(x,{})}),Object(O.jsx)(i.b,{path:"/login",element:Object(O.jsx)(m,{handleAuth:function(e){window.localStorage.setItem("auth",JSON.stringify({email:e}))}})}),Object(O.jsx)(i.b,{path:"/",element:Object(O.jsx)(D,{children:Object(O.jsx)(v,{children:Object(O.jsx)(T,{})})})}),Object(O.jsx)(i.b,{path:"*",element:Object(O.jsx)(q,{})})]})})})};n(111);l.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root"))},76:function(e,t,n){},77:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.84e35295.chunk.js.map